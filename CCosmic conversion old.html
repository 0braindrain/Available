<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmic Units Converter</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo {
            font-size: 2.5em;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.2em;
        }

        .input-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .input-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-field {
            position: relative;
        }

        .input-field label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }

        .input-field input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .input-field input:focus {
            outline: none;
            border-color: #667eea;
        }

        .buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #666;
            border: 2px solid #ddd;
        }

        .btn-secondary:hover {
            background: #e9ecef;
        }

        .table-container {
            overflow-x: auto;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }

        th, td {
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid #eee;
        }

        th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .color-indicator {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin: 0 auto;
            border: 2px solid rgba(0, 0, 0, 0.1);
        }

        .heart {
            font-size: 18px;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
        }

        tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }

        .highlight {
            background: rgba(102, 126, 234, 0.1) !important;
            animation: pulse 0.5s ease-in-out;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .result-info {
            background: #e8f5e8;
            border: 1px solid #4caf50;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            text-align: center;
            color: #2e7d32;
        }

        .error-info {
            background: #ffebee;
            border: 1px solid #f44336;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            text-align: center;
            color: #c62828;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .input-group {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">ðŸŒŸ Cosmic</div>
            <div class="subtitle">Units Converter</div>
        </div>

        <div class="input-section">
            <div class="input-group">
                <div class="input-field">
                    <label for="ccInput">Volume (cc)</label>
                    <input type="number" id="ccInput" placeholder="Enter volume in cc" step="0.01">
                </div>
                <div class="input-field">
                    <label for="baseInput">Base Grams</label>
                    <input type="number" id="baseInput" placeholder="Enter base weight in grams" step="0.01">
                </div>
                <div class="input-field">
                    <label for="plasticInput">Base + Plastic Grams</label>
                    <input type="number" id="plasticInput" placeholder="Enter total weight in grams" step="0.01">
                </div>
            </div>
            <div class="buttons">
                <button class="btn btn-primary" onclick="calculateValues()">Calculate</button>
                <button class="btn btn-secondary" onclick="clearAll()">Clear All</button>
            </div>
            <div id="resultInfo"></div>
        </div>

        <div class="table-container">
            <table id="dataTable">
                <thead>
                    <tr>
                        <th>Color</th>
                        <th>Units (cc)</th>
                        <th>Base (g)</th>
                        <th>Base + Plastic (g)</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Original data from the image
        const originalData = [
            { color: '#00CED1', units: 10, base: 0.07, plastic: 0.39 },
            { color: '#0000FF', units: 15, base: 0.11, plastic: 0.43 },
            { color: '#FF4500', units: 20, base: 0.14, plastic: 0.46 },
            { color: '#FFD700', units: 25, base: 0.18, plastic: 0.50 },
            { color: '#FFA500', units: 30, base: 0.21, plastic: 0.53 },
            { color: '#9ACD32', units: 35, base: 0.25, plastic: 0.57 },
            { color: '#00BFFF', units: 40, base: 0.28, plastic: 0.60 },
            { color: '#4169E1', units: 45, base: 0.32, plastic: 0.64 },
            { color: '#FF0000', units: 50, base: 0.35, plastic: 0.67 },
            { color: '#DC143C', units: 80, base: 0.45, plastic: 0.77 },
            { color: '#B22222', units: 100, base: 0.75, plastic: 1.07 }
        ];

        let currentData = [...originalData];

        function initializeTable() {
            const tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = '';
            
            currentData.forEach((row, index) => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td><div class="color-indicator" style="background-color: ${row.color}"></div></td>
                    <td>${row.units}</td>
                    <td>${row.base.toFixed(2)}</td>
                    <td>${row.plastic.toFixed(2)}</td>
                `;
                tableBody.appendChild(tr);
            });
        }

        function calculateValues() {
            const ccInput = parseFloat(document.getElementById('ccInput').value);
            const baseInput = parseFloat(document.getElementById('baseInput').value);
            const plasticInput = parseFloat(document.getElementById('plasticInput').value);

            let result = null;
            let inputType = '';

            // Determine which input was provided and calculate others
            if (!isNaN(ccInput)) {
                result = calculateFromCC(ccInput);
                inputType = 'CC';
            } else if (!isNaN(baseInput)) {
                result = calculateFromBase(baseInput);
                inputType = 'Base Grams';
            } else if (!isNaN(plasticInput)) {
                result = calculateFromPlastic(plasticInput);
                inputType = 'Base + Plastic Grams';
            }

            if (result) {
                // Update input fields with calculated values
                document.getElementById('ccInput').value = result.cc.toFixed(2);
                document.getElementById('baseInput').value = result.base.toFixed(3);
                document.getElementById('plasticInput').value = result.plastic.toFixed(3);

                // Add calculated result to table if it's not already there
                addCalculatedResult(result);
                
                showResult(`Calculated from ${inputType}: ${result.cc.toFixed(2)} cc = ${result.base.toFixed(3)}g base = ${result.plastic.toFixed(3)}g total`);
            } else {
                showError('Please enter a value in at least one field.');
            }
        }

        function calculateFromCC(cc) {
            // Linear interpolation based on the original data
            const sortedData = [...originalData].sort((a, b) => a.units - b.units);
            
            // Find the two closest points
            let lower = sortedData[0];
            let upper = sortedData[sortedData.length - 1];
            
            for (let i = 0; i < sortedData.length - 1; i++) {
                if (cc >= sortedData[i].units && cc <= sortedData[i + 1].units) {
                    lower = sortedData[i];
                    upper = sortedData[i + 1];
                    break;
                }
            }
            
            // Linear interpolation
            const ratio = (cc - lower.units) / (upper.units - lower.units);
            const base = lower.base + ratio * (upper.base - lower.base);
            const plastic = lower.plastic + ratio * (upper.plastic - lower.plastic);
            
            return { cc, base, plastic };
        }

        function calculateFromBase(base) {
            // Find CC from base weight using interpolation
            const sortedData = [...originalData].sort((a, b) => a.base - b.base);
            
            let lower = sortedData[0];
            let upper = sortedData[sortedData.length - 1];
            
            for (let i = 0; i < sortedData.length - 1; i++) {
                if (base >= sortedData[i].base && base <= sortedData[i + 1].base) {
                    lower = sortedData[i];
                    upper = sortedData[i + 1];
                    break;
                }
            }
            
            const ratio = (base - lower.base) / (upper.base - lower.base);
            const cc = lower.units + ratio * (upper.units - lower.units);
            const plastic = lower.plastic + ratio * (upper.plastic - lower.plastic);
            
            return { cc, base, plastic };
        }

        function calculateFromPlastic(plastic) {
            // Find CC from plastic weight using interpolation
            const sortedData = [...originalData].sort((a, b) => a.plastic - b.plastic);
            
            let lower = sortedData[0];
            let upper = sortedData[sortedData.length - 1];
            
            for (let i = 0; i < sortedData.length - 1; i++) {
                if (plastic >= sortedData[i].plastic && plastic <= sortedData[i + 1].plastic) {
                    lower = sortedData[i];
                    upper = sortedData[i + 1];
                    break;
                }
            }
            
            const ratio = (plastic - lower.plastic) / (upper.plastic - lower.plastic);
            const cc = lower.units + ratio * (upper.units - lower.units);
            const base = lower.base + ratio * (upper.base - lower.base);
            
            return { cc, base, plastic };
        }

        function addCalculatedResult(result) {
            // Check if this result already exists in the table
            const exists = currentData.some(row => 
                Math.abs(row.units - result.cc) < 0.01 && 
                Math.abs(row.base - result.base) < 0.01
            );
            
            if (!exists) {
                // Add new calculated result
                const newRow = {
                    color: '#808080', // Gray for calculated values
                    units: result.cc,
                    base: result.base,
                    plastic: result.plastic
                };
                
                currentData.push(newRow);
                currentData.sort((a, b) => a.units - b.units);
                updateTable();
            }
        }

        function updateTable() {
            const tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = '';
            
            currentData.forEach((row, index) => {
                const tr = document.createElement('tr');
                if (row.color === '#808080') {
                    tr.classList.add('highlight');
                }
                tr.innerHTML = `
                    <td><div class="color-indicator" style="background-color: ${row.color}"></div></td>
                    <td>${row.units.toFixed(2)}</td>
                    <td>${row.base.toFixed(3)}</td>
                    <td>${row.plastic.toFixed(3)}</td>
                `;
                tableBody.appendChild(tr);
            });
        }

        function clearAll() {
            document.getElementById('ccInput').value = '';
            document.getElementById('baseInput').value = '';
            document.getElementById('plasticInput').value = '';
            document.getElementById('resultInfo').innerHTML = '';
            
            // Reset table to original data
            currentData = [...originalData];
            initializeTable();
        }

        function showResult(message) {
            document.getElementById('resultInfo').innerHTML = 
                `<div class="result-info">${message}</div>`;
        }

        function showError(message) {
            document.getElementById('resultInfo').innerHTML = 
                `<div class="error-info">${message}</div>`;
        }

        // Initialize the table when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeTable();
        });
    </script>
</body>
</html>
